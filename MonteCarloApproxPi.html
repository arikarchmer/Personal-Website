<html>
<head>
  <title>F x d</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Lobster|Cabin|Source+Code+Pro" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<style>
    body {
        background-color: whitesmoke;
    }
    #canvas {
        position: absolute;
        background-color: whitesmoke;
        border: black;
    }
    p {
        color: black;
        font: 36px 'Cabin';
    }
</style>
<body>
<br><br><br>
<div class="row">
    <div id="approx" class="col-sm-5 col-sm-offset-1 text-left">
        <canvas id="canvas"></canvas>
    </div>
    <div id="info" class="col-sm-5 col-sm-offset-1 text-left">
        <p id="pi"></p>
        <p id="count"></p>
        <br>
        <button type="submit" onclick="go()" class="btn btn-lg">again</button>
    </div>
</div>
</div>
</body>
<script>

    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");

    canvas.height = 500;
    canvas.width = 500;

    var limit = 1000000;
    var count = 0;
    var green = 0;
    var stop = false;

    var distance = function(x, y) {
        return Math.sqrt((x.x - y.x) * (x.x - y.x) + (x.y - y.y) * (x.y - y.y));
    };

    function draw_point() {
        var pi = 4 * green / count;
        document.getElementById('pi').innerHTML = 'approximate <br> pi: ' + pi;
        document.getElementById('count').innerHTML = 'count: ' + (count - 1);
        if (!stop) {
            count = count + 1;
            if (count < limit + 1) {
                var x = Math.random() * 500;
                var y = Math.random() * 500;
                if (distance({x: 0, y: 0}, {x: x, y: y}) < 500) {
                    ctx.fillStyle = 'gray';
                    green = green + 1;
                } else {
                    ctx.fillStyle = 'black';
                }
                ctx.beginPath();
                ctx.arc(x, y, 1, 0, 2 * Math.PI, false);
                ctx.fill();
            } else {

                stop = true;
            }
        }
    }

    setInterval(draw_point, 1);
    function go() {
        setInterval(draw_point, 1);
    }

</script>
</html>